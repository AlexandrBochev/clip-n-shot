(()=>{"use strict";chrome.runtime.onMessage.addListener(((r,e,t)=>"captureScreen"===r.action?(chrome.tabs.query({},(r=>{r.length?chrome.storage.local.set({tabList:r},(()=>{t({success:!0})})):t({error:"No tabs available"})})),!0):"captureViewport"===r.action?(chrome.tabs.captureVisibleTab({format:"png"},(r=>{chrome.runtime.lastError?(console.error("‚ùå Error capturing viewport:",chrome.runtime.lastError),t({error:chrome.runtime.lastError.message})):chrome.tabs.create({url:`editor.html?screenshot=${encodeURIComponent(r)}`})})),!0):void 0))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsIm1hcHBpbmdzIjoibUJBQ0FBLE9BQU9DLFFBQVFDLFVBQVVDLGFBQVksQ0FBQ0MsRUFBU0MsRUFBUUMsSUFDNUIsa0JBQW5CRixFQUFRRyxRQUNSUCxPQUFPUSxLQUFLQyxNQUFNLENBQUMsR0FBSUQsSUFDZEEsRUFBS0UsT0FJVlYsT0FBT1csUUFBUUMsTUFBTUMsSUFBSSxDQUFFQyxRQUFTTixJQUFRLEtBQ3hDRixFQUFhLENBQUVTLFNBQVMsR0FBTyxJQUovQlQsRUFBYSxDQUFFVSxNQUFPLHFCQUt4QixLQUVDLEdBRVksb0JBQW5CWixFQUFRRyxRQUNSUCxPQUFPUSxLQUFLUyxrQkFBa0IsQ0FBRUMsT0FBUSxRQUFVQyxJQUMxQ25CLE9BQU9DLFFBQVFtQixXQUNmQyxRQUFRTCxNQUFNLDhCQUErQmhCLE9BQU9DLFFBQVFtQixXQUM1RGQsRUFBYSxDQUFFVSxNQUFPaEIsT0FBT0MsUUFBUW1CLFVBQVVoQixXQUcvQ0osT0FBT1EsS0FBS2MsT0FBTyxDQUFFQyxJQUFLLDBCQUEwQkMsbUJBQW1CTCxNQUMzRSxLQUVHLFFBVlgsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2NsaXAtbi1zaG90Ly4vc3JjL2JhY2tncm91bmQvYmFja2dyb3VuZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigobWVzc2FnZSwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpID0+IHtcbiAgICBpZiAobWVzc2FnZS5hY3Rpb24gPT09IFwiY2FwdHVyZVNjcmVlblwiKSB7XG4gICAgICAgIGNocm9tZS50YWJzLnF1ZXJ5KHt9LCAodGFicykgPT4ge1xuICAgICAgICAgICAgaWYgKCF0YWJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7IGVycm9yOiBcIk5vIHRhYnMgYXZhaWxhYmxlXCIgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgdGFiTGlzdDogdGFicyB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmFjdGlvbiA9PT0gXCJjYXB0dXJlVmlld3BvcnRcIikge1xuICAgICAgICBjaHJvbWUudGFicy5jYXB0dXJlVmlzaWJsZVRhYih7IGZvcm1hdDogXCJwbmdcIiB9LCAoZGF0YVVybCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRXJyb3IgY2FwdHVyaW5nIHZpZXdwb3J0OlwiLCBjaHJvbWUucnVudGltZS5sYXN0RXJyb3IpO1xuICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7IGVycm9yOiBjaHJvbWUucnVudGltZS5sYXN0RXJyb3IubWVzc2FnZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNocm9tZS50YWJzLmNyZWF0ZSh7IHVybDogYGVkaXRvci5odG1sP3NjcmVlbnNob3Q9JHtlbmNvZGVVUklDb21wb25lbnQoZGF0YVVybCl9YCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn0pO1xuIl0sIm5hbWVzIjpbImNocm9tZSIsInJ1bnRpbWUiLCJvbk1lc3NhZ2UiLCJhZGRMaXN0ZW5lciIsIm1lc3NhZ2UiLCJzZW5kZXIiLCJzZW5kUmVzcG9uc2UiLCJhY3Rpb24iLCJ0YWJzIiwicXVlcnkiLCJsZW5ndGgiLCJzdG9yYWdlIiwibG9jYWwiLCJzZXQiLCJ0YWJMaXN0Iiwic3VjY2VzcyIsImVycm9yIiwiY2FwdHVyZVZpc2libGVUYWIiLCJmb3JtYXQiLCJkYXRhVXJsIiwibGFzdEVycm9yIiwiY29uc29sZSIsImNyZWF0ZSIsInVybCIsImVuY29kZVVSSUNvbXBvbmVudCJdLCJzb3VyY2VSb290IjoiIn0=